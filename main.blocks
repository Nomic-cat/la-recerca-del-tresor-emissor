<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="TJ10c/V;:y=uC_D*8n)r">llista_ordre</variable><variable id="z(7PG`3Zl{BH%IW]BJp4">valor</variable><variable id="h@NO:VrXPw%#_~SR^%-C">numero_grup</variable></variables><comment id="A$y/!.]8vg]i$$/S@nZ[" x="77" y="750" w="170" h="120">
Variables globals
</comment><block type="pxt-on-start" id="yd]2e~a_.}BOcQ3$4z#(" x="0" y="0"><statement name="HANDLER"><block type="radio_set_group" id="MUHxx.?^$E8uq:%RRmkU"><comment pinned="false" h="80" w="160">Configuració inicial</comment><data>{"commentRefs":[],"fieldData":{"~commentOffsetX":"16","~commentOffsetY":"16"}}</data><value name="ID"><shadow type="math_number_minmax" id="`4(T)##xrvUqa1n3_mF@"><mutation min="0" max="255" precision="0"></mutation><field name="SLIDER">7</field></shadow></value><next><block type="radio_set_transmit_power" id="ydGsrR;,RBilw#NOn0VK"><value name="power"><shadow type="math_number_minmax" id="(G$N07DtA]3[ufLSW+D*"><mutation min="0" max="7" label="Power" precision="0"></mutation><field name="SLIDER">1</field></shadow></value><next><block type="basic_show_icon" id="b:uO73yAUeOCq34EUeg^"><field name="i">IconNames.House</field><next><block type="variables_set" id="@zu$erP%6_dYp8m;I57w"><field name="VAR" id="TJ10c/V;:y=uC_D*8n)r">llista_ordre</field><value name="VALUE"><shadow type="math_number" id="%v_M!%^qjAujxJ?;uCP4"><field name="NUM">0</field></shadow><block type="lists_create_with" id="ukIf.fyo@}_bj6=`Q$.5"><mutation items="0" horizontalafter="3"></mutation></block></value></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="8R;$9YEwa.(_^k|^eW|]" x="1228" y="5"><comment pinned="false" h="80" w="160">Bucle principal - emet el senyal "Cerca" contínuament</comment><statement name="HANDLER"><block type="radio_datagram_send_string" id="!cRQ+(O:C75WKtb~T-DY"><value name="msg"><shadow type="text" id="dVPqgdu*Erd!n3CDPdjL"><field name="TEXT">Cerca</field></shadow></value><next><block type="device_pause" id="SH%W?;}=:CXa,m%3VRMb"><value name="pause"><shadow type="timePicker" id="RE*G%!1u!9e1X5Ik}Be#"><field name="ms">500</field></shadow></value></block></next></block></statement></block><block type="radio_on_string_drag" id="6YR]-|K7$WS7jQ*uGF9c" x="1661" y="5"><comment pinned="false" h="80" w="160">Quan es rep un missatge</comment><value name="HANDLER_DRAG_PARAM_receivedString"><block type="argument_reporter_string" id="8Q2$$efY[h!+vM`e%Pot" deletable="false"><field name="VALUE">receivedString</field></block></value><statement name="HANDLER"><block type="controls_if" id="gO}ZsmW~1LtRc.Q#dp`N"><value name="IF0"><shadow type="logic_boolean" id="nt,YPJVo1cEi--|ot|Jq"><field name="BOOL">TRUE</field></shadow><block type="string_includes" id="SOgegM`4yn(sjZ1/JnwE"><value name="this"><shadow type="text" id="`{k@i#LlUT+._r_jy:cr"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="*eq]3O8zo2L]A;t8fw,U"><field name="VALUE">receivedString</field></block></value><value name="searchValue"><shadow type="text" id="Y-V0L{Q{`8YfP[WVG~K4"><field name="TEXT">Trobat</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="A#d`K@:ZyN4uQ#EC8,L1"><field name="VAR" id="h@NO:VrXPw%#_~SR^%-C">numero_grup</field><comment pinned="false" h="80" w="160">Extrau el número del grup del missatge</comment><value name="VALUE"><shadow type="math_number" id="_KF*)oR*/gAcox4gZ11_"><field name="NUM">0</field></shadow><block type="string_parseint" id="%%6-)brf6oGb@dHvPu/f"><value name="text"><block type="string_substr_new" id="EPH%3fRALH*u/hvoalD+"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><value name="this"><shadow type="text" id="jig7TKaTeVNHY.`cw:G3"><field name="TEXT"></field></shadow><block type="argument_reporter_string" id="D8CFagt~Sq@LB!bVob65"><field name="VALUE">receivedString</field></block></value><value name="start"><shadow type="math_number" id="zK)ZyvFmy:PK`E+x(u8B"><field name="NUM">5</field></shadow></value></block></value></block></value><next><block type="controls_if" id="71s,t`%/]-|Ex}Tm;^uD"><value name="IF0"><shadow type="logic_boolean" id="DSJ[egb^6w`]]^3bu@=i"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="zmKvRR!Wsuu96/,ZoCJv"><value name="BOOL"><shadow type="logic_boolean" id="NkU7y`_F@Ket0DE_TgzB"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="N;BUV|/9[~Y`SHvYb#n,"><field name="EXPRESSION">(isNaN(numero_grup))</field></block></value></block></value><statement name="DO0"><block type="device_clear_display" id="7J_S)kGDq0I+]VjJ+3jl"><comment pinned="false" h="80" w="160">Para l'emissió continua</comment><next><block type="array_push" id="_}zQ9zZc,1agil];SUy}"><comment pinned="false" h="80" w="160">Afegeix el grup a la llista d'ordres</comment><value name="list"><block type="variables_get" id="?i[;6o?(~MrG!CJk(pus"><field name="VAR" id="TJ10c/V;:y=uC_D*8n)r">llista_ordre</field></block></value><value name="value"><block type="variables_get" id="4.nn-igWDF`v-,73^Y`h"><field name="VAR" id="h@NO:VrXPw%#_~SR^%-C">numero_grup</field></block></value><next><block type="radio_datagram_send_string" id="2_N]AGrj)xxR*9_y2y4o"><comment pinned="false" h="80" w="160">Notifica a tothom qui ha trobat el tresor</comment><value name="msg"><block type="text_join" id="3KQXRi^f#cbWq(t#1y8V"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="Z%,tk_u]kL.mz[+N%-TA"><field name="TEXT">Tresor trobat pel grup </field></shadow></value><value name="ADD1"><shadow type="text" id="S[C`pmL~]7bL6Oy#6Uw?"><field name="TEXT"></field></shadow><block type="variables_get" id="-_2DTCN@]K6VXhvZzPc1"><field name="VAR" id="h@NO:VrXPw%#_~SR^%-C">numero_grup</field></block></value></block></value><next><block type="basic_show_icon" id="2f21SVf=4/cKle(y:^Rr"><field name="i">IconNames.Yes</field><comment pinned="false" h="80" w="160">Animació de celebració</comment><next><block type="device_pause" id="oQmJEO^(J9=CbIu!O$Nf"><value name="pause"><shadow type="timePicker" id="25~4VgtWO`]oMx.l[Y-,"><field name="ms">1000</field></shadow></value><next><block type="device_print_message" id="vSBGt@!4yr.rxfbU5+*;"><value name="text"><shadow type="text" id="Rx$nWx73aFK,o5*iq11l"><field name="TEXT"></field></shadow><block type="variables_get" id="SAe}UC8#C5iOs^%3/dJA"><field name="VAR" id="h@NO:VrXPw%#_~SR^%-C">numero_grup</field></block></value><next><block type="basic_show_icon" id="aG|DH2*PuvIDh9z+UOsb"><field name="i">IconNames.Asleep</field></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></statement></block><block type="device_button_event" id="|nEF+0uwZn-@a0V$ksKJ" x="83" y="327"><field name="NAME">Button.A</field><comment pinned="false" h="80" w="160">Funció per mostrar la llista d'ordres (opcional - per al botó A)</comment><statement name="HANDLER"><block type="device_print_message" id="VMO$LEG:4@]PIt[[sk)J"><value name="text"><shadow type="text" id="+A[rBVv*RJ,b7lf1lJxD"><field name="TEXT">Ordre:</field></shadow></value><next><block type="pxt_controls_for_of" id="^31c7XH9BeSW*En}sP_/"><value name="VAR"><block type="variables_get_reporter" id="oC!#~ir/au~@SP$fw*+6" deletable="false"><field name="VAR" id="z(7PG`3Zl{BH%IW]BJp4">valor</field></block></value><value name="LIST"><block type="variables_get" id="Z^FsJK}_5a7Pl4a|G5t3"><field name="VAR" id="TJ10c/V;:y=uC_D*8n)r">llista_ordre</field></block></value><statement name="DO"><block type="device_show_number" id="r~7t.(}L__N.`3(~i.]d"><value name="number"><block type="variables_get" id="[-ptY.o/[SKDe9-Huf9y"><field name="VAR" id="z(7PG`3Zl{BH%IW]BJp4">valor</field></block></value></block></statement></block></next></block></statement></block></xml>